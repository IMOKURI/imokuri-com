---
import { getCollection } from "astro:content";

const allPosts = await getCollection("blog");
const tags = [...new Set(allPosts.map((post) => post.data.tags).flat())].sort(
    (a, b) => a.localeCompare(b)
);
---

<div class="dropdown dropdown-end float-right">
    <label tabindex="0" class="btn btn-ghost text-lg m-1"
        >Tag 一覧はこちら</label
    >
    <ul
        tabindex="0"
        class="dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52"
    >
        {
            tags.map((tag) => (
                <li>
                    <a href={`/tag/${tag}`}>{tag}</a>
                </li>
            ))
        }
    </ul>
</div>
