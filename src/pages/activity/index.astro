---
import ActivityPost from "../../components/ActivityPost.astro"
import BaseLayout from "../../layouts/BaseLayout.astro"
import BaseWallpaper from "../../components/BaseWallpaper.astro"
import Footer from "../../components/Footer.astro"
import NavBar from "../../components/NavBar.astro"
import ToggleTheme from "../../components/ToggleTheme.astro"
import { getCollection } from "astro:content"

const posts = await getCollection("activity")

posts.push({
  data: {
    title: "Data",
    slug: "data",
    description: "調べたり、集めたりしたデータです。"
  }
})

posts.sort((a, b) => a.data.title.localeCompare(b.data.title))
---

<BaseLayout>
  <BaseWallpaper>
    <NavBar />
    <ToggleTheme />
    <main class="container mx-auto w-5/6 lg:w-2/3">
      <h1 class="my-5 text-4xl font-bold">Activity</h1>

      {posts.map(post => <ActivityPost post={post} />)}
    </main>
    <Footer />
  </BaseWallpaper>
</BaseLayout>
